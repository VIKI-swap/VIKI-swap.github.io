"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[887],{90112:function(e,l,a){a.d(l,{Z:function(){return d}});var s=a(11355),n=a(82546),i=a(67294),t=a(68247),c=a(98330),r=a(85893),d=function(e){var l=e.visible,a=e.title,d=e.width,o=e.onClose,u=e.children,m=e.className,x=(0,c.Z)().t;return(0,r.jsx)(s.u,{appear:!0,show:l,as:i.Fragment,children:(0,r.jsxs)(n.V,{open:l,onClose:o,className:"dialog",children:[(0,r.jsx)(s.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 opacity-100"})}),(0,r.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,r.jsx)("div",{className:"panel-container flex min-h-full items-center justify-center p-4 text-center",children:(0,r.jsx)(s.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)(n.V.Panel,{className:"dialog-panel transform overflow-hidden shadow-xl transition-all ".concat(null!=m?m:""),style:{width:d},children:[a&&(0,r.jsxs)(n.V.Title,{className:"dialog-title",children:[(0,r.jsxs)("span",{children:[x(a)," "]}),(0,r.jsx)(t.r,{onClick:function(){o()}})]}),u]})})})})]})})}},48268:function(e,l,a){a.d(l,{y:function(){return d}});var s=a(42122),n=a.n(s),i=a(67294),t=a(61895),c=a(85893),r=function(e){var l=e.defaultValue,a=void 0===l?"-":l,s=e.value,n=e.defaultValueIncludeSuffix,r=void 0!==n&&n,d=e.displayDecimals,o=void 0===d?2:d,u=e.label,m=void 0===u?"":u,x=e.thousandSeparator,f=void 0===x||x,h=e.prefix,v=void 0===h?"":h,j=e.suffix,p=void 0===j?"":j,_=(0,i.useMemo)((function(){return null==s||""===s?r?"".concat(v||"").concat(a).concat(p||""):a:(0,t.dp)(s,o).display({thousandSeparator:f,prefix:v,suffix:p})}),[s,a,o,f,v,p]);return(0,c.jsxs)(c.Fragment,{children:[m,_]})},d=function(e){var l=e.separator,a=void 0===l?"/":l,s=e.values;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r,n()({},s[0]||{})),a,(0,c.jsx)(r,n()({},s[1]||{}))]})};l.Z=r},96714:function(e,l,a){a.d(l,{P:function(){return n},m:function(){return s}});var s=function(e){if(!e)return"";var l,a=new Date(1e3*e);if(!((l=a)instanceof Date)||isNaN(+l))return"";var s=(null==a?void 0:a.getMonth())+1;return(s=(null==a?void 0:a.getMonth())>9?""+s:"0"+s)+"/"+((null==a?void 0:a.getDate())>9?null==a?void 0:a.getDate():"0"+(null==a?void 0:a.getDate()))+" "+((null==a?void 0:a.getHours())>9?null==a?void 0:a.getHours():"0"+(null==a?void 0:a.getHours()))+":"+((null==a?void 0:a.getMinutes())>9?null==a?void 0:a.getMinutes():"0"+(null==a?void 0:a.getMinutes()))},n="-"},29360:function(e,l,a){a.r(l),a.d(l,{default:function(){return E}});var s=a(67294),n=a(77438),i=a(98330),t=a(22537),c="description___fdR5Q",r="rewards___Fi41_",d="header___jUxaC",o="title___BUw5W",u="subTitle___kgUk_",m="secondTitle___PrMHa",x="content___yFQIn",f=a(42122),h=a.n(f),v=a(27424),j=a.n(v),p=a(3410),_=a(34713),N=a(71230),g=a(15746),y=a(95591),b=a(56853),C=a(79369),Z=a(87755),S=a(74595),w=a(90112),P=a(48268),V=a(58926),B=a(78575),k=a(37432),D=a(96714),R=a(26977),F=a(61895),L={helper:"helper___LsDjS",fieldName:"fieldName___LqA7r",fieldValue:"fieldValue___MzLVZ",alignRight:"alignRight___CXQuE",btn:"btn___dBadl",primary:"primary___ZenXE"},H=a(85893),I=function(e){var l=e.account,a=e.onClose,t=e.isBuy,c=e.vault,r=(0,s.useState)(""),d=j()(r,2),o=d[0],u=d[1],m=(0,s.useState)(""),x=j()(m,2),f=x[0],h=x[1],v=(0,s.useState)(!1),y=j()(v,2),C=y[0],Z=y[1],w=(0,_.Ge)(),V=w.chainId,k=w.active,D=S.I.useContainer(),I=D.setPendingTxns,U=D.setWalletVisible,T=(0,s.useState)(!0),E=j()(T,2),M=E[0],Q=E[1],O=(0,i.Z)().t,z=!t;(0,s.useEffect)((function(){if(M)return f?void b.a.changeReceive(c,t,f,(function(e){u(String(e))})):void u("");o?b.a.changePay(c,t,o,(function(e){h(String(e))})):h("")}),[M,f,o,t,c]),(0,s.useEffect)((function(){u(""),h("")}),[t]);var A,W=function(){if(!k)return[(0,H.jsx)(p._H,{id:"Connect wallet"}),!1];if(!o||0==+o)return[(0,H.jsx)(p._H,{id:"Enter an amount"}),!0];if(!f||0==+f)return[(0,H.jsx)(p._H,{id:"Enter an amount"}),!0];var e=(0,F.Q6)(o);return t&&e.gt((0,F.Q6)(c.yourBlance))?[(0,H.jsx)(p._H,{id:"Insufficient USDC balance"}),!0]:!t&&e.gt((0,F.Q6)(c.yourStake))?[(0,H.jsx)(p._H,{id:"Insufficient BLP balance"}),!0]:C?[t?"Buying...":"Selling...",!0]:[t?"Buy BLP":"Sell BLP",!1]}(),K=j()(W,2),X=K[0],G=K[1],Y=(0,s.useMemo)((function(){return t?(0,F.dp)(null==c?void 0:c.yourBlance,B.C1).display({prefix:"",suffix:" USDC"}):(0,F.dp)(null==c?void 0:c.yourStake,B.nH).display({prefix:"",suffix:" BLP"})}),[t,c]),q=(0,s.useMemo)((function(){return t?(0,F.dp)(null==c?void 0:c.yourStake,B.nH).display({prefix:"",suffix:" BLP"}):(0,F.dp)(null==c?void 0:c.yourBlance,B.C1).display({prefix:"",suffix:" USDC"})}),[t,c]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(R.gp,{symbol:z?"BLP":"USDC",onClickMaxBtn:function(){Q(!1),u(z?(0,F.dp)((0,F.Q6)(c.yourStake),B.nH).value:(0,F.dp)((0,F.Q6)(c.yourBlance),B.C1).value)},decimals:z?B.nH:B.C1,value:o,onChange:function(e){Q(!1),u(e)}}),(0,H.jsxs)(N.Z,{className:L.helper,children:[(0,H.jsxs)(g.Z,{span:12,className:L.fields,children:[(0,H.jsx)("span",{className:L.fieldName,children:O("Price")}),(0,H.jsx)("span",{className:L.fieldValue,children:(0,H.jsx)(P.Z,{value:null==c?void 0:c.BLPPrice,displayDecimals:B.C1,suffix:" USDC"})})]}),(0,H.jsxs)(g.Z,{span:12,className:"".concat(L.fields," ").concat(L.alignRight),children:[(0,H.jsx)("span",{className:L.fieldName,children:O(t?"Balance":"Available")}),(0,H.jsx)("span",{className:L.fieldValue,children:Y})]})]}),(0,H.jsx)(R.mU,{decimals:t?B.nH:B.C1,symbol:z?"USDC":"BLP",onChange:function(e){Q(!0),h(e)},value:f}),(0,H.jsxs)(N.Z,{className:L.helper,children:[(0,H.jsxs)(g.Z,{span:12,className:L.fields,children:[(0,H.jsx)("span",{className:L.fieldName,children:"Fees:"}),(0,H.jsx)("span",{className:L.fieldValue,children:(A=t?null==c?void 0:c.buyFeeRate:null==c?void 0:c.sellFeeRate,(0,F.dp)((0,F.Q6)(A).multipliedBy(100)).display({prefix:"",suffix:"%"}))})]}),(0,H.jsxs)(g.Z,{span:12,className:"".concat(L.fields," ").concat(L.alignRight),children:[(0,H.jsx)("span",{className:L.fieldName,children:O(t?"Available":"Balance")}),(0,H.jsx)("span",{className:L.fieldValue,children:q})]})]}),(0,H.jsx)(n.Z,{className:L.btn,size:"large",disabled:G,onClick:function(){k?l&&!C&&(Z(!0),b.a.confirmSwap(I,V,c,Number(o),t,Number(f),l).then((function(e){a()})).finally((function(){Z(!1)}))):U(!0)},children:X})]})},U={title:"title___ksi2I",logo:"logo___T45HZ",item:"item___DcoR8",btn:"btn___B8UfR",primary:"primary___zb9la",head:"head___mj2xd",icon:"icon___dE_Dk",fieldValue:"fieldValue___ShnQ1",total:"total___G3YmX",fieldName:"fieldName___6ymvY",top:"top___RctlW",footer:"footer___zNIrU",left:"left___R1dZg",right:"right___p3SgQ",dialog:"dialog___cys2R",tab:"tab___OD7Q3",active:"active___hviTT",tabPanels:"tabPanels___zny3E",activeTab:"activeTab___J3Wxd",alignRight:"alignRight___qgopk",cell:"cell___BkSg7",yourRewards:"yourRewards___jPbM2",xsmt20:"xsmt20___SxujJ"},T=function(){var e=(0,s.useState)(!1),l=j()(e,2),a=l[0],t=l[1],c=(0,s.useState)("buy"),r=j()(c,2),d=r[0],o=r[1],u=(0,_.Ge)(),m=u.library,x=u.account,f=u.active,v=(0,k.x)().chainId,R=S.I.useContainer(),F=R.setPendingTxns,L=R.setWalletVisible,T=(0,i.Z)().t,E=(0,y.ZP)([x,v],(function(){return b.a.getVault(m,x,v||V.rC)}),{refreshInterval:2400}),M=E.data,Q=E.mutate;function O(){t(!0)}var z=function(e){o(e);var l=!1;"buy"==e&&(l=!0),Q(h()(h()({},M),{},{isBuy:l}))};function A(e){return e?" ".concat(e):""}return(0,H.jsxs)("div",{className:U.BLPVault,children:[(0,H.jsx)("div",{className:U.title,children:(0,H.jsx)("span",{children:T("BLP Vault")})}),(0,H.jsxs)(N.Z,{gutter:24,children:[(0,H.jsx)(g.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:(0,H.jsxs)("div",{className:U.item,children:[(0,H.jsxs)("div",{className:U.top,children:[(0,H.jsxs)("div",{className:U.head,children:[(0,H.jsx)("div",{className:U.text,children:T("BLP Vault")}),(0,H.jsx)("img",{src:C.Z,className:U.icon})]}),(0,H.jsxs)(N.Z,{className:U.content,children:[(0,H.jsx)(g.Z,{xs:24,md:24,lg:10,className:U.cell,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:U.fieldValue,title:(null==M?void 0:M.totalSupply)||D.P,children:(0,H.jsx)("div",{className:U.total,children:(0,H.jsx)(P.Z,{displayDecimals:B.nH,value:null==M?void 0:M.totalSupply,suffix:A(null==M?void 0:M.supplySymbol)})})}),(0,H.jsx)("div",{className:U.fieldName,children:T("Total Supply")})]})}),(0,H.jsx)(g.Z,{xs:24,md:24,lg:9,className:U.cell,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:U.fieldValue,title:(null==M?void 0:M.totalAssets)||D.P,children:(0,H.jsx)("div",{className:U.total,children:(0,H.jsx)(P.Z,{value:null==M?void 0:M.totalAssets,displayDecimals:B.C1,suffix:A(null==M?void 0:M.assetSymbol)})})}),(0,H.jsx)("div",{className:U.fieldName,children:T("BLP Vault balance")})]})}),(0,H.jsxs)(g.Z,{lg:5,xs:24,md:24,className:"".concat(U.cell," ").concat(U.alignRight),children:[(0,H.jsx)("div",{className:U.fieldValue,children:(0,H.jsx)(P.Z,{value:null==M?void 0:M.APR,suffix:"%"})}),(0,H.jsx)("div",{className:U.fieldName,children:T("BLP Vault APR")})]})]})]}),(0,H.jsxs)(N.Z,{className:U.footer,children:[(0,H.jsx)(g.Z,{span:12,className:U.left,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:U.fieldValue,children:(0,H.jsx)(P.Z,{value:null==M?void 0:M.BLPPrice,suffix:A(null==M?void 0:M.assetSymbol),displayDecimals:B.C1})}),(0,H.jsx)("div",{className:U.fieldName,children:T("Price")})]})}),(0,H.jsx)(g.Z,{xs:24,md:12,span:12,className:U.right,children:x&&f?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(n.Z,{className:U.btn,type:"primary",size:"middle",onClick:function(){o("buy"),O()},children:(0,H.jsx)(p._H,{id:"Buy"})}),(0,H.jsx)(n.Z,{className:U.btn,type:"c30",size:"middle",style:{marginLeft:12},onClick:function(){o("sell"),O()},children:(0,H.jsx)(p._H,{id:"Sell"})})]}):(0,H.jsx)(n.Z,{className:U.btn,type:"primary",size:"middle",onClick:function(){return L(!0)},children:(0,H.jsx)(p._H,{id:"ConnectWallet"})})})]})]})}),(0,H.jsx)(g.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:(0,H.jsxs)("div",{className:"".concat(U.item," ").concat(U.yourRewards),children:[(0,H.jsxs)("div",{className:U.top,children:[(0,H.jsxs)("div",{className:U.head,children:[(0,H.jsx)("div",{className:U.text,children:T("Your Rewards")}),(0,H.jsx)("img",{src:Z.Z,className:U.icon})]}),(0,H.jsxs)(N.Z,{className:U.content,children:[(0,H.jsx)(g.Z,{lg:12,xs:24,className:U.cell,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:U.fieldValue,children:(0,H.jsx)(P.Z,{value:null==M?void 0:M.yourStake,displayDecimals:B.nH,suffix:A(null==M?void 0:M.supplySymbol)})}),(0,H.jsx)("div",{className:U.fieldName,children:T("Your stake")})]})}),(0,H.jsx)(g.Z,{lg:12,xs:24,className:"".concat(U.cell," ").concat(U.alignRight),children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"".concat(U.fieldValue," ").concat(U.xsmt20),children:(0,H.jsx)(P.Z,{value:null==M?void 0:M.rewarded,suffix:" USDC",displayDecimals:B.C1})}),(0,H.jsx)("div",{className:U.fieldName,children:T("rewarded")})]})})]})]}),(0,H.jsxs)(N.Z,{className:U.footer,children:[(0,H.jsx)(g.Z,{lg:10,xs:24,className:U.left,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:U.fieldValue,children:(0,H.jsx)(P.Z,{value:null==M?void 0:M.pendingRewards,suffix:" USDC",displayDecimals:B.C1})}),(0,H.jsx)("div",{className:U.fieldName,children:T("Pending rewards")})]})}),(0,H.jsx)(g.Z,{lg:14,xs:24,className:U.right,children:x&&f?(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(n.Z,{type:"c30",disabled:0===Number(null==M?void 0:M.pendingRewards),onClick:function(){var e,l;null==M||null===(e=M.vaultReward)||void 0===e||e.setPendingTxns(F),null==M||null===(l=M.vaultReward)||void 0===l||l.claimLPReward()},className:U.btn,children:T("Harvest USDC")})}):(0,H.jsx)(n.Z,{className:U.btn,type:"c30",size:"middle",onClick:function(){return L(!0)},children:(0,H.jsx)(p._H,{id:"ConnectWallet"})})})]})]})})]}),(0,H.jsxs)(w.Z,{title:"Buy / Sell BLP",visible:a,className:U.dialog,onClose:function(){t(!1)},children:[(0,H.jsxs)(N.Z,{className:U.tab,children:[(0,H.jsx)(p.OL,{to:"#",onClick:function(){return z("buy")},className:function(){return"buy"===d?U.active:void 0},children:T("Buy")}),(0,H.jsx)(p.OL,{to:"#",onClick:function(){return z("sell")},className:function(){return"sell"===d?U.active:void 0},children:T("Sell")})]}),(0,H.jsx)("div",{className:U.tabPanels,children:(0,H.jsx)(I,{onClose:function(){return t(!1)},isBuy:"buy"===d,vault:M,account:x})})]})]})},E=function(){var e=(0,i.Z)().t;return(0,H.jsxs)("div",{className:r,children:[(0,H.jsxs)("div",{className:d,children:[(0,H.jsx)("div",{className:o,children:e("Rewards")}),(0,H.jsx)("div",{className:u,children:e("Stake USDC and earn rewards from fees generated on the VIKI.")})]}),(0,H.jsx)(T,{}),(0,H.jsxs)("div",{className:c,children:[(0,H.jsx)("div",{className:m,children:e("How do VIKI rewards work?")}),(0,H.jsxs)("p",{className:x,children:[e("The BLP Vault is the counter party to all trades on VIKI."),(0,H.jsx)("br",{})," ",e("VIKI Vault accrues 70% of the platform's generated fees. VIKI Foundation accrues 30% of the platform's generated fees.")]}),(0,H.jsx)(n.Z,{type:"c10",href:t.Ew.TokenEconomyUsdblp,children:e("Learn More")})]})]})}},26977:function(e,l,a){a.d(l,{gp:function(){return u},tV:function(){return o},mU:function(){return m},ZP:function(){return x}});var s=a(42122),n=a.n(s),i=a(94184),t=a.n(i),c={input:"input___FmRXa",wrapper:"wrapper___FSDBG",var:"var___VCDiS",flex:"flex___gOhnV",max:"max___hao26"},r=a(85893),d=function(e){var l=e.label,a=e.symbolVar,s=e.children,n=e.disabled,i=e.className,d=e.decimals,o=void 0===d?18:d,u=e.onChange,m=e.value,x=e.max,f=function(e){if(u){var l=new RegExp("^\\D*(\\d*(?:\\.\\d{0,".concat(o,"})?).*$"),"g"),a=e.replace(l,"$1");x&&+a>+x&&(a=x),u(a)}};return(0,r.jsxs)("div",{className:t()(c.input,i),children:[l&&(0,r.jsx)("div",{className:c.label,children:l}),(0,r.jsxs)("div",{className:c.wrapper,children:[(0,r.jsx)("input",{type:"text",value:m,disabled:n,onChange:function(e){f(e.target.value)},placeholder:"0.00"}),a?(0,r.jsx)("div",{className:c.var,children:a}):s]})]})},o=function(e){return(0,r.jsx)(d,n()(n()({label:"Price"},e),{},{children:(0,r.jsx)("div",{className:c.var,children:"USD"})}))},u=function(e){var l=e.onClickMaxBtn,a=e.symbol;return(0,r.jsx)(d,n()(n()({label:"Pay"},e),{},{children:(0,r.jsxs)("div",{className:c.flex,children:[(0,r.jsx)("div",{className:c.max,onClick:l,children:"MAX"}),(0,r.jsx)("div",{className:c.var,children:null!=a?a:"USDC"})]})}))},m=function(e){return(0,r.jsx)(d,n()(n()({label:"Receive"},e),{},{children:(0,r.jsx)("div",{className:c.flex,children:(0,r.jsx)("div",{className:c.var,children:e.symbol})})}))},x=d},68247:function(e,l,a){a.d(l,{r:function(){return d}});var s=a(67294),n=Object.defineProperty,i=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,r=(e,l,a)=>l in e?n(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a;const d=e=>s.createElement("svg",((e,l)=>{for(var a in l||(l={}))t.call(l,a)&&r(e,a,l[a]);if(i)for(var a of i(l))c.call(l,a)&&r(e,a,l[a]);return e})({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("rect",{width:32,height:32,rx:16,fill:"#1E2126"}),s.createElement("path",{d:"m12 12 4 4m0 0 4-4m-4 4-4 4m4-4 4 4",stroke:"#78808E",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}}]);